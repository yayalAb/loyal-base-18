<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <!--Hospital insurance tree view-->
    <record id="hospital_insurance_view_tree" model="ir.ui.view">
        <field name="name">hospital.insurance.view.tree</field>
        <field name="model">hospital.insurance</field>
        <field name="arch" type="xml">
            <list>
                <field name="name"/>
                <field name="date_from"/>
                <field name="date_to"/>
                <field name="tin_no"/>
                <field name="discount_rate"/>

            </list>
        </field>
    </record>
    <record id="hospital_insurance_view_form" model="ir.ui.view">
        <field name="name">hospital.insurance.view.form</field>
        <field name="model">hospital.insurance</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button string="Approve" name="action_approve" invisible="state != 'draft'" type="object" class="btn-primary"/>
                    <button string="Cancel" name="action_cancel"  invisible="state == 'canceled'" type="object" class="btn btn-warning"/>
                    <button string="Reject" name="action_reject" invisible="state != 'draft'" type="object" class="btn btn-danger"/>
                    <field name="state" widget="statusbar"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_open_coverage" type="object"
                            class="oe_stat_button"
                            invisible="id == False">
                            <i class="oi oi-view-list"/>
                            <span class="ms-2 me-2"> Coverage </span>
                            <field name="coverage_count"/>
                        </button>

                         <button name="action_open_item" type="object"
                            class="oe_stat_button"
                            invisible="id == False">
                            <i class="oi oi-view-list"/>
                            <span class="ms-2 me-2"> Price List </span>
                            <field name="item_count"/>
                        </button>
                    </div>
                    <group>
                    <group>
                        <field name="partner_id" context="{'default_is_company': True, 'patient_seq':False}"/>
                        <field name="item_based"/>
                        <field name="fixed_amount"/>
                        <field name="card_free_days"/>
                    </group>
                    <group>
                         <label for="date_from" string="Period"/>
                            <div class="o_row">
                                <field name="date_from" nolabel="1" class="oe_inline" readonly="state != 'draft'"/>
                                <i class="fa fa-long-arrow-right mx-2" aria-label="to" title="to"/>
                                <field name="date_to" nolabel="1" class="oe_inline" readonly="state != 'draft'"/>
                            </div>
                            <field name="tin_no" />
                            <field name="discount_rate" /> <button string="Apply Discount" name="applay_discount"  type="object" class="btn-secondary"/>
                    </group>
                </group>
                <notebook>
                    <page name="Coverage List" string="Coverage">
                        <field name="coverage_ids" string="Coverage Lines">
                            <list editable="bottom">
                                <field name="is_item" column_invisible="1"/>
                                <field name="is_fixed" column_invisible="1"/>
                                <field name="product_categ_id" column_invisible="parent.item_based"/>
                                <field name="product_id" column_invisible="not parent.item_based"/>
                                <field name="percentage" column_invisible="parent.fixed_amount"/>
                                <field name="amount" column_invisible="not parent.fixed_amount"/>
                            </list>
                        </field>
                    </page>
                     <page name="Price List" string="Price List">
                        <field name="price_ids" string="Price List">
                            <list editable="bottom">
                                <field name="product_id"/>
                                <field name="product_id"/>
                                <field name="amount"/>
                            </list>
                        </field>
                    </page>
                    <page name="documets" string="Documets">
                        <field name="documets"></field>

                    </page>
                </notebook>
                </sheet>
        </form>
        </field>
        </record>
    <!--    Insurance menu action-->
    <record id="hospital_insurance_action" model='ir.actions.act_window'>
        <field name="name">Insurance</field>
        <field name="res_model">hospital.insurance</field>
        <field name="view_mode">list,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Add Insurance Plans
            </p>
        </field>
    </record>
    <!--    Insurance menu-->
    <menuitem id="hospital_insurance_menu" name="Insurance" sequence="6"
              parent="hospital_menu_configuration" action="hospital_insurance_action"/>
</odoo>
