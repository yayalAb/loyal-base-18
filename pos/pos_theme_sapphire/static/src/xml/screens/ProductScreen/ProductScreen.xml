<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
	<!--    &lt;!&ndash; Point of sale order session page &ndash;&gt;-->
    <t t-inherit="point_of_sale.ProductScreen" t-inherit-mode="extension">
        <xpath expr='//div[hasclass("product-screen")]' position="replace">
			<div class="product-screen d-flex h-100 bg-100" t-att-class="{'flex-grow-1 w-100 mw-100': ui.isSmall, 'd-none': ui.isSmall and pos.mobile_pane !== 'left'}" >
				<t t-call="pos_theme_sapphire.Sidebar"/>

                <div class="rightpane overflow-auto d-flex flex-grow-1 flex-column w-60"
                     t-if="!ui.isSmall || pos.mobile_pane === 'right'">
					<div class="d-flex ms-2 me-2 mt-5 justify-content-between">
						<div class="d-flex gap-2">
								<div class="justify-content-center me-3 ms-3">
									<img src="/pos_theme_sapphire/static/description/hi.png" 
											alt="Hi"/>

								</div>
								<div class="good_morning">
									<div class="d-flex gap-2">
										<span class="timer-day" t-esc="time.day"/> 
										<span class="timer-date" t-esc="time.date"/>
								    </div>
									<div class="d-flex gap-2 "> 
										<h3 ><t t-esc="getGreeting()"/> <span t-esc="pos.user.name"/></h3>
										
									</div>
								</div>
						</div>
						 
                    <div class="timer-date-container d-flex flex-column smaller">
                        
                    </div>
						<div class="d-flex me-3 text-end ">
							<div class="timer-hours fs-2" t-esc="time.hours"> </div>
						</div>

					</div>
                    <div class="position-relative d-flex flex-column flex-grow-1 overflow-hidden mt-3 me-2 ms-2"
                         t-ref="products-widget">
						 <div class="d-flex justify-content-between w-100 mt-3 background_custom_white pt-1 pb-1 rounded-3 pe-1">
							<Input tModel="[pos, 'searchProductWord']"
                                       isSmall="ui.isSmall"
                                       placeholder="'Search products...'"
                                       icon="{type: 'fa', value: 'fa-search'}"
									   class="'none_right_border w-100 me-0'"
                                       debounceMillis="100"/>
							<button class="button confirm btn  lh-lg  cash_open_button" style="min-width: 145px; min-height: 40px !important;">
									<img  class="me-2"
								src="/pos_theme_sapphire/static/description/qr-code.svg" 
								alt=""/>Scan Barcode
							</button>
									  
						 </div>
                        <!-- <div class="mt-4 d-flex justify-content-between"> -->
                            <!--  -->
								<!-- <div class="d-flex justify-content-between w-100 mt-3">  -->
									
									   
								<!-- </div> -->
                                <!-- <div class="home-category-button lg-screen-cat">
									<span class="breadcrumb-button breadcrumb-home"
                                          t-on-click="(id) => this.pos.setSelectedCategory(id)">
										<i class="fa fa-home" role="img"
                                           aria-label="Home" title="Home"
                                           style="font-size: 30px;"/>
									</span>
								</div> -->
							<!-- </div> -->
						<!-- </div> -->
                        <!-- <div class="products-widget-control products-widget-control-header mt-4 d-flex shadow-sm justify-content-between">
							<Input tModel="[pos, 'searchProductWord']"
                                   class="'p-2 sm-screen'"
                                   isSmall="ui.isSmall"
                                   placeholder="'Search products...'"
                                   icon="{type: 'fa', value: 'fa-search'}"
                                   debounceMillis="100"/>
                            <div class="home-category-button sm-screen-cat">
								<span class="breadcrumb-button breadcrumb-home"
                                      t-on-click="(id) => this.pos.setSelectedCategory(id)">
									<i class="fa fa-home" role="img"
                                       aria-label="Home" title="Home"
                                       style="font-size: 30px;"/>
								</span>
							</div>
						</div> -->
                        <t t-set="categories" t-value="getCategoriesAndSub()"/>
                        <div class="products-widget-control  products-widget-control-category gap-3 d-flex mb-1 me-2 mt-3">
							<div class="rightpane-header">
								<div class="categories-header">
									<div class="category-list simple">
										<t t-foreach="getCategoriesAndSub()"
                                           t-as="category" t-key="category.id">
											<span t-if="category.id != 0"
                                                  class="category-simple-button pt-7 pb-7 gap-3"
												  
												  t-attf-class="{{ selectedCategoryId === category.id ? 'highlight' : '' }}"
                                                  t-on-click="() => this.setSelectedCategory(category.id)">
												<t t-esc="category.name"/>
											</span>
										</t>
									</div>
								</div>
							</div>
						</div>
                        <div class="product-list-container flex-grow-1 overflow-y-auto">
							<div t-if="productsToDisplay.length != 0 and pos.session._has_available_products"
                                 t-attf-class="product-list {{this.pos.productListViewMode}} p-1">
                                    <ProductCard
                                            t-foreach="productsToDisplay" t-as="product" t-key="product.id"
                                            productId="product.id"
                                            product="product"
                                            class="pos.productViewMode"
                                            name="getProductName(product)"
                                            color="product.pos_categ_ids?.at(-1)?.color"
                                            imageUrl="pos.config.show_product_images and this.getProductImage(product)"
                                            onClick.bind="() => this.addProductToOrder(product)"
                                            productInfo="true"
                                            productCartQty="this.state.quantityByProductTmplId[product.raw.product_tmpl_id]"
											onProductInfoClick.bind="() => this.onProductInfoClick(product)"/>
											<!-- price="this.getProductPrice(product)" -->
							</div>
                                <div t-else=""
                                     class="product-list-empty no-results-message text-center mt-5">
								<t t-if="searchWord">
									<p>No products found for
										<b>"
											<t t-esc="searchWord"/>
                                            "
										</b>
                                        in this category.
									</p>
								</t>
                                    <t t-else="">
									<t t-if="searchWord">
										<p>No products found for <b>"<t t-esc="searchWord"/>"</b>
                                            in this category.</p>
									</t>
                                        <t t-elif="pos.session._has_available_products"><p>There are no products in this category.</p></t>
                                        <t t-else="">
                                        <div t-if="!state.loadingDemo">
											<p class="text-large">No products available. Explore

												<a role="button"
                                                   class="button-no-demo fw-bolder"
                                                   t-on-click="loadDemoDataProducts">demo data</a>
                                                or
                                                <a
                                                        role="button"
                                                        class="button-no-demo fw-bolder"
                                                        t-on-click="createNewProducts">create your own</a>.
											</p>
										</div>
                                            <div t-else=""
                                                 class="block-top-header position-absolute top-0 start-0 bg-black opacity-50 w-100 h-100 z-1000">
											<div class="d-flex h-100 w-100 text-white flex-row align-items-center justify-content-center">
												<div class="o_spinner d-flex flex-column mb-4">
													<img src="/web/static/img/spin.svg"
                                                         alt="Loading..."/>
                                                    Loading...

												</div>
											</div>
										</div>
									</t>
								</t>
							</div>
                                <div t-if="searchWord"
                                     class="search-more-button d-flex justify-content-center">
								<button class="btn btn-primary btn-lg"
                                        t-on-click="onPressEnterKey">Search more</button>
							</div>
                                <div class="portal search-database-button no-results-message"
                                     t-att-class="{ 'd-none':  !shouldShowButton }"/></div>
					</div>
                        <t t-if="ui.isSmall">
						<div class="product-reminder d-flex justify-content-center align-items-center py-1 text-bg-warning bg-opacity-50 fw-bolder"
                             t-if="state.showProductReminder" t-key="animationKey">
							<span>
								<t t-esc="selectedOrderlineQuantity"/>
                                <t t-esc="selectedOrderlineDisplayName"/>
                                <t t-esc="selectedOrderlineTotal"/>
							</span>
						</div>
                            <div class="switchpane d-flex h-12">
							<button class="btn-switchpane pay-button btn w-50 rounded-0 fw-bolder"
                                    t-attf-class="{{ primaryPayButton ? 'btn-primary' : 'btn-secondary' }}"
                                    t-on-click="() => currentOrder.pay()">
								<span class="fs-1 d-block">Pay</span>
                                <span>
									<t t-esc="total"/>
								</span>
							</button>
                                <button class="btn-switchpane btn w-50 btn-secondary rounded-0 fw-bolder review-button"
                                        t-on-click="switchPane">
								<span class="fs-1 d-block">Review</span>
                                    <span>
									<t t-esc="items"/>
                                        items
								</span>
							</button>
						</div>
					</t>
				</div>
				<div t-att-class="{'flex-grow-1 w-100 mw-100': ui.isSmall, 'd-none': ui.isSmall and pos.mobile_pane !== 'left'}" style="color:'blue'"
                     class="leftpane d-flex flex-column p-2">
					<div class="d-flex justify-content-between mt-2 me-2">
							<OrderTabs orders="getOrderTabs()"/>
						
							<img t-on-click="onClickMore" class="d-flex justify-content-center align-items-center" src="/pos_theme_sapphire/static/description/actions_icon.png"
								alt="Action"/>
					</div>
                <OrderSummary />
                <div class="pads">
                    <div t-attf-class="control-buttons d-flex justify-content-between gap-2 w-100 py-2">
						<SelectPartnerButton partner="partner" t-if="!props.showRemainingButtons"/>
                        <!-- <ControlButtons t-if="!ui.isSmall" onClickMore.bind="displayAllControlPopup"/> -->
                    </div>
                    <div class="subpads d-flex flex-column gap-2">
                        <Numpad t-if="!currentOrder?.is_empty() and pos.get_order()?.uiState.selected_orderline_uuid" class="'d-grid m-n1'" buttons="getNumpadButtons()" onClick.bind="onNumpadClick"/>
                        <ActionpadWidget partner="currentOrder?.get_partner()"
                            onClickMore.bind="displayAllControlPopup"
                            actionName.translate="Go to Payment"
                            actionToTrigger="() => pos.pay()"
                            showActionButton="!currentOrder?.is_empty()"/>
                    </div>
                </div>
            </div>
			</div>
		</xpath>
	</t>
</templates>