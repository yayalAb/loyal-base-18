<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="point_of_sale.PaymentScreen" t-inherit="point_of_sale.PaymentScreen" t-inherit-mode="extension">
        <xpath expr="//t[@t-else='']/div[contains(@class, 'payment-screen')]" position="replace">
            <div class="payment-screen screen d-flex flex-column h-100">
                
             
                <div class="main-content d-flex gap-2 h-100 bg-200 overflow-auto">
                <div class="h-100 w-10 bg-white">
                    <t t-call="pos_theme_sapphire.Sidebar"/>
                </div>
                <!-- <div class="justify-content-between  w-100"> -->
                 
                        <div class="d-flex flex-column vh-100 me-2 w-100">
                             <div class="d-flex justify-content-between mt-2 me-2 mb-2 w-100">
                                <OrderTabs orders="getOrderTabs()"/>
                            
                                <img t-on-click="onClickMore" class="d-flex justify-content-center align-items-center" src="/pos_theme_sapphire/static/description/actions_icon.png"
                                    alt="Action"/>
                            </div>
                            <div class="d-flex justify-content-between flex-grow-1 bg-light">
                                <div class="left-content d-flex flex-column col-md-4 p-2 mt-1 me-2">
                                    <h5 class="select_payment_text">Select Payment Options</h5>
                                    <t t-call="point_of_sale.PaymentScreenMethods" />
                                    <t t-call="point_of_sale.PaymentScreenButtons" />
                                </div>
                              <div class="center-content d-flex flex-column flex-grow-1 gap-2 py-2">
                                  
                                    <div class="payment-summary d-flex flex-grow-1 flex-column gap-2 overflow-y-auto justify-content-center rounded-3 bg-view">
                                         <div class="d-flex justify-content-center">
                                            <t t-call="point_of_sale.PaymentScreenDue" />
                                        </div>
                                        <div class="d-flex justify-content-center">
                                            <div class="justify-content-center w-50 bg-white">
                                                <PaymentScreenStatus order="currentOrder" />
                                            </div>
                                        </div>
                                        
                                        <PaymentScreenPaymentLines
                                            paymentLines="paymentLines"
                                            deleteLine.bind="deletePaymentLine"
                                            sendForceDone.bind="sendForceDone"
                                            sendPaymentReverse.bind="sendPaymentReverse"
                                            sendPaymentCancel.bind="sendPaymentCancel"
                                            sendPaymentRequest.bind="sendPaymentRequest"
                                            selectLine.bind="selectPaymentLine"
                                            updateSelectedPaymentline.bind="updateSelectedPaymentline" />
                                    </div>
                                   
                                    <div>
                                        <Numpad class="'py-2'"  buttons="getNumpadButtons()"/>
                                            <div t-attf-class="d-flex flex-row gap-2 custom-payment-buttons">
                                                <t t-call="point_of_sale.PaymentScreenBack" />
                                                <t t-call="point_of_sale.PaymentScreenValidate" />
                                            </div>
                                    </div>
                            </div>
                         </div>

                    </div>

                <!-- </div> -->
                   
             </div>
            </div>


         </xpath>
       
    </t>
    <t t-name="point_of_sale.PaymentScreenDue" t-inherit="point_of_sale.PaymentScreenDue" t-inherit-mode="extension">
        <xpath expr="//section[@class='paymentlines-container rounded-3 bg-view']" position="replace">
                <section class="paymentlines-container rounded-3"
                    t-att-class="{'paymentlines-empty': paymentLines.length === 0 }">
                    <div class="total text-center m-3 mb-3 fs-3">
                        <t t-esc="this.env.utils.formatCurrency(currentOrder.getTotalDue())" />
                    </div>
                </section>
        </xpath>     
    </t>



     <t t-name="point_of_sale.PaymentScreenValidate" t-inherit="point_of_sale.PaymentScreenValidate" t-inherit-mode="extension">
        <xpath expr="//button[contains(@class, 'next')]" position="replace">
            <button class="button btn-lg w-75 py-3 lh-lg complt_btn_button"
                t-attf-class="{{currentOrder.is_paid() and currentOrder._isValidEmptyOrder() ? 'complt_btn_button' : 'disabled'}}"
                t-on-click="() => this.validateOrder()"
                style="max-height: 70px !important">
                <span class="next_text">
                    <img src="/pos_theme_sapphire/static/description/money-03.svg"/> Complete Payment
                </span>
            </button>
        </xpath>
    </t>

        <!-- <t t-name="point_of_sale.PaymentScreenBack" t-inherit="point_of_sale.PaymentScreenBack" t-inherit-mode="extension">
        <xpath expr="//button[contains(@class, 'button back back-button validation btn btn-light btn-lg w-100 py-3 lh-lg')]" position="replace">
             <button class="button btn-lg w-25 py-3 lh-lg back_btn_button "
                t-on-click="() => pos.onClickBackButton()">
                <span class="back_text">Back</span>
            </button>
         </xpath>
     </t>  -->







    </templates>